/*********************************
* Input.cpp
* Connor Hilarides
* Created 2014/09/08
*********************************/

#include "Common.h"
#include "Input.h"

// ----------------------------------------------------------------------------

Input::Input()
  : event_base(this)
{
  static Events::EventId updateId("update");
  SetHandler(updateId, &Input::OnUpdate);
}

// ----------------------------------------------------------------------------

Input::~Input()
{
}

// ----------------------------------------------------------------------------

void Input::OnKeyDown(const InputSignal& signal)
{
  KeyState *state = nullptr;
  if (signal.virtual_key < 0x100)
    state = &keyStates[signal.virtual_key];
  else
    state = &unicodeStates[signal.virtual_key];
  *state = signal;

  state->trigger_frame = GetGame()->Time.Frame;

  
  KeyStateEvent eventData{*state};
  
}

// ----------------------------------------------------------------------------

// ----------------------------------------------------------------------------

// ----------------------------------------------------------------------------

// ----------------------------------------------------------------------------

// ----------------------------------------------------------------------------

// ----------------------------------------------------------------------------


